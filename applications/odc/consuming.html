<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using Jupyter Environment with the ODC &mdash; Brazil Data Cube</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/table_styling.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/bdc.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Web Land Trajectory Service (WLTS)" href="../wlts.html" />
    <link rel="prev" title="Data Ingestion" href="ingesting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >
            <a href="../../index.html" class="icon icon-home"> Brazil Data Cube
            <img src="../../_static/logo-bdc.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Brazil Data Cube Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../products.html">BDC Data Products</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../applications.html">Services and Applications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../stac.html">SpatioTemporal Asset Catalog (STAC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wtss.html">Web Time Series Services (WTSS)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../odc.html">Open Data Cube (ODC)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="create_image_docker.html">Creating Docker Images for the ODC Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="create_containers_docker.html">Running ODC Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="config_odc_core.html">Configuring the ODC-Core</a></li>
<li class="toctree-l3"><a class="reference internal" href="add_data_product.html">Adding a ODC Data Product</a></li>
<li class="toctree-l3"><a class="reference internal" href="create_dataset_metadata.html">Creating the Datasets Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="register_dataset.html">Registering Datasets in the ODC Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="ingesting.html">Data Ingestion</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Using Jupyter Environment with the ODC</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../wlts.html">Web Land Trajectory Service (WLTS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dc_explorer.html">Data Cube Explorer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../specifications.html">Specifications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sbsr-2023.html">SBSR 2023 - Simpósio Brasileiro de Sensoriamento Remoto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../treinamento-2022.html">Treinamento BDC 2022</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../worcap-2021.html">WorCAP 2021 - Introdução ao STAC e WTSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ibge-2021.html">IBGE 2021 - Workshop Brazil Data Cube com IBGE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sbsr-2021.html">SBSR Interim 2021 - Simpósio Brasileiro de Sensoriamento Remoto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../worcap-2020.html">WorCAP 2020 - Geoinformática com Aplicações de Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datascience-2020.html">CAP-394 - Introdução a Data Science (2020)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">General Information:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Brazil Data Cube</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../applications.html">Services and Applications</a> &raquo;</li>
          <li><a href="../odc.html">Open Data Cube (ODC)</a> &raquo;</li>
      <li>Using Jupyter Environment with the ODC</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="ingesting.html" class="btn btn-neutral float-left" title="Data Ingestion" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../wlts.html" class="btn btn-neutral float-right" title="Web Land Trajectory Service (WLTS)" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="using-jupyter-environment-with-the-odc">
<h1>Using Jupyter Environment with the ODC<a class="headerlink" href="#using-jupyter-environment-with-the-odc" title="Permalink to this headline"></a></h1>
<p>To access and manipulate the registered data, it is possible to use the ODC API in Python. This use is facilitated with the help of Jupyter Notebook. In this tutorial’s installation stage, the Docker Image <code class="docutils literal notranslate"><span class="pre">local/odc-jupyter</span></code> was created. It will be used to access the data.</p>
<p>Use the command below to create an instance of the ODC container with support for Jupyter Notebook environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>docker run --detach \
           --name bdc-odc-jupyter \
           --hostname bdc-odc-jupyter \
           --network bdc-odc-net \
           --publish 8889:8889 \
           --volume $(pwd)/odc-data-repository:/data \
           --env DB_HOSTNAME=bdc-odc-pg \
           --env DB_DATABASE=opendatacube \
           --env DB_USERNAME=opendatacube \
           --env DB_PASSWORD=secreto \
           --env DB_PORT=5432 \
           local/odc-jupyter:1.7 jupyter notebook --ip=0.0.0.0 --port=8889
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Remember to change the information about the location of stored data. The <code class="docutils literal notranslate"><span class="pre">--volume</span></code> parameter, in the above command, must point to the same location registered when creating the <code class="docutils literal notranslate"><span class="pre">bdc-odc-core</span></code> container</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have changed the password of the database server, it will be necessary to include the same password in the parameter <code class="docutils literal notranslate"><span class="pre">--env</span> <span class="pre">DB_PASSWORD</span></code>.</p>
</div>
<p>If your <code class="docutils literal notranslate"><span class="pre">bdc-odc-jupyter</span></code> container is running, use the following command to recover the <code class="docutils literal notranslate"><span class="pre">access</span> <span class="pre">token</span></code> needed to open the Jupyter Notebook environment on your browser screen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">exec</span> <span class="o">-</span><span class="n">it</span> <span class="n">bdc</span><span class="o">-</span><span class="n">odc</span><span class="o">-</span><span class="n">jupyter</span> <span class="n">jupyter</span> <span class="n">notebook</span> <span class="nb">list</span>
</pre></div>
</div>
<p>The Jupyter server should reply with a message similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Currently running servers:
http://0.0.0.0:8889/?token=d3e5ce2c0ae5e003cc5b606bdacc7e25a34ea23d36081363 :: /data
</pre></div>
</div>
<p>Use the <code class="docutils literal notranslate"><span class="pre">access</span> <span class="pre">token</span></code> shown on your server output to access the Jupyter environment in your browser at the host machine’s local address. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>firefox http://127.0.0.1:8889/?token=d3e5ce2c0ae5e003cc5b606bdacc7e25a34ea23d36081363
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have problems with the Jupyter server, see the log output of your container:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">logs</span> <span class="o">-</span><span class="n">f</span> <span class="n">bdc</span><span class="o">-</span><span class="n">odc</span><span class="o">-</span><span class="n">jupyter</span>
</pre></div>
</div>
<p>A container with functional status will display output, as shown below. It will show the <code class="docutils literal notranslate"><span class="pre">access</span> <span class="pre">token</span></code> needed to use the Jupyter environment in the browser:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[I 21:46:46.140 NotebookApp] Writing notebook server cookie secret to /home/datacube/.local/share/jupyter/runtime/notebook_cookie_secret
[I 21:46:47.391 NotebookApp] Serving notebooks from local directory: /data
[I 21:46:47.391 NotebookApp] Jupyter Notebook 6.1.3 is running at:
[I 21:46:47.392 NotebookApp] http://bdc-odc-jupyter:8889/?token=d3e5ce2c0ae5e003cc5b606bdacc7e25a34ea23d36081363
[I 21:46:47.392 NotebookApp]  or http://127.0.0.1:8889/?token=d3e5ce2c0ae5e003cc5b606bdacc7e25a34ea23d36081363
[I 21:46:47.392 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[W 21:46:47.409 NotebookApp] No web browser found: could not locate runnable browser.
[C 21:46:47.409 NotebookApp]

    To access the notebook, open this file in a browser:
        file:///home/datacube/.local/share/jupyter/runtime/nbserver-1-open.html
    Or copy and paste one of these URLs:
        http://bdc-odc-jupyter:8889/?token=d3e5ce2c0ae5e003cc5b606bdacc7e25a34ea23d36081363
     or http://127.0.0.1:8889/?token=d3e5ce2c0ae5e003cc5b606bdacc7e25a34ea23d36081363
</pre></div>
</div>
</div>
<p>That’s it! Now the datacube API can be consumed to access the data, for examples, see the <a class="reference external" href="https://www.opendatacube.org/dcal">ODC application library</a>.</p>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ingesting.html" class="btn btn-neutral float-left" title="Data Ingestion" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../wlts.html" class="btn btn-neutral float-right" title="Web Land Trajectory Service (WLTS)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, INPE.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-178140681-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-178140681-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>