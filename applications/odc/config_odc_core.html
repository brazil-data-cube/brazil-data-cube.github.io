<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuring the ODC-Core &mdash; Brazil Data Cube</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/table_styling.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/bdc.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Adding a ODC Data Product" href="add_data_product.html" />
    <link rel="prev" title="Running ODC Services" href="create_containers_docker.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >
            <a href="../../index.html" class="icon icon-home"> Brazil Data Cube
            <img src="../../_static/logo-bdc.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Brazil Data Cube Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../products.html">BDC Available Data Products</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../applications.html">Services and Applications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../dc_explorer.html">Data Cube Explorer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stac.html">SpatioTemporal Asset Catalog (STAC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wtss.html">Web Time Series Services (WTSS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wlts.html">Web Land Trajectory Service (WLTS)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../odc.html">Open Data Cube (ODC)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="create_image_docker.html">Creating Docker Images for the ODC Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="create_containers_docker.html">Running ODC Services</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Configuring the ODC-Core</a></li>
<li class="toctree-l3"><a class="reference internal" href="add_data_product.html">Adding a ODC Data Product</a></li>
<li class="toctree-l3"><a class="reference internal" href="create_dataset_metadata.html">Creating the Datasets Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="register_dataset.html">Registering Datasets in the ODC Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="ingesting.html">Data Ingestion</a></li>
<li class="toctree-l3"><a class="reference internal" href="consuming.html">Using Jupyter Environment with the ODC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../specifications.html">Specifications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../jornada-merc-2023.html">XIII Jornada de Educação em Sensoriamento Remoto no Âmbito do Mercosul</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../worcap-2023.html">WORCAP 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../treinamento-2023.html">Treinamento PRODES 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sbsr-2023.html">SBSR 2023 - Simpósio Brasileiro de Sensoriamento Remoto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../treinamento-2022.html">Treinamento BDC 2022</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../worcap-2021.html">WorCAP 2021 - Introdução ao STAC e WTSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ibge-2021.html">IBGE 2021 - Workshop Brazil Data Cube com IBGE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sbsr-2021.html">SBSR Interim 2021 - Simpósio Brasileiro de Sensoriamento Remoto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../worcap-2020.html">WorCAP 2020 - Geoinformática com Aplicações de Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datascience-2020.html">CAP-394 - Introdução a Data Science (2020)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">General Information:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Brazil Data Cube</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../applications.html">Services and Applications</a> &raquo;</li>
          <li><a href="../odc.html">Open Data Cube (ODC)</a> &raquo;</li>
      <li>Configuring the ODC-Core</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="create_containers_docker.html" class="btn btn-neutral float-left" title="Running ODC Services" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="add_data_product.html" class="btn btn-neutral float-right" title="Adding a ODC Data Product" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="configuring-the-odc-core">
<h1>Configuring the ODC-Core<a class="headerlink" href="#configuring-the-odc-core" title="Permalink to this headline"></a></h1>
<p>The link that has been made between the <code class="docutils literal notranslate"><span class="pre">ODC-Core</span></code> and <code class="docutils literal notranslate"><span class="pre">PostgreSQL</span></code> containers is not enough for the correct functioning of the <code class="docutils literal notranslate"><span class="pre">ODC-Core</span></code>. It will be necessary to create the database schema with the ODC model. To do this, we will use the command line program called <code class="docutils literal notranslate"><span class="pre">datacube-cli</span></code>, available in the <code class="docutils literal notranslate"><span class="pre">ODC-Core</span></code> container:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">exec</span> <span class="o">-</span><span class="n">it</span> <span class="n">bdc</span><span class="o">-</span><span class="n">odc</span><span class="o">-</span><span class="n">core</span> <span class="n">datacube</span> <span class="n">system</span> <span class="n">init</span>
</pre></div>
</div>
<p>To check if the above command has created the tables of the ODC schema, use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">exec</span> <span class="o">-</span><span class="n">it</span> <span class="n">bdc</span><span class="o">-</span><span class="n">odc</span><span class="o">-</span><span class="n">pg</span> <span class="n">psql</span> <span class="o">-</span><span class="n">U</span> <span class="n">opendatacube</span> <span class="o">-</span><span class="n">d</span> <span class="n">opendatacube</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;\dt agdc.*&quot;</span>
</pre></div>
</div>
<p>The following tables should be presented as a result:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>               <span class="n">List</span> <span class="n">of</span> <span class="n">relations</span>
 <span class="n">Schema</span> <span class="o">|</span>       <span class="n">Name</span>       <span class="o">|</span> <span class="n">Type</span>  <span class="o">|</span>   <span class="n">Owner</span>
<span class="o">--------+------------------+-------+------------</span>
 <span class="n">agdc</span>   <span class="o">|</span> <span class="n">dataset</span>          <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">agdc_admin</span>
 <span class="n">agdc</span>   <span class="o">|</span> <span class="n">dataset_location</span> <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">agdc_admin</span>
 <span class="n">agdc</span>   <span class="o">|</span> <span class="n">dataset_source</span>   <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">agdc_admin</span>
 <span class="n">agdc</span>   <span class="o">|</span> <span class="n">dataset_type</span>     <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">agdc_admin</span>
 <span class="n">agdc</span>   <span class="o">|</span> <span class="n">metadata_type</span>    <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">agdc_admin</span>
<span class="p">(</span><span class="mi">5</span> <span class="n">rows</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Another way to check if everything is right is to list the products registered in the system. No returns will be displayed as no data has been entered, but no errors should be shown either:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">exec</span> <span class="o">-</span><span class="n">it</span> <span class="n">bdc</span><span class="o">-</span><span class="n">odc</span><span class="o">-</span><span class="n">core</span> <span class="n">datacube</span> <span class="n">product</span> <span class="nb">list</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="create_containers_docker.html" class="btn btn-neutral float-left" title="Running ODC Services" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="add_data_product.html" class="btn btn-neutral float-right" title="Adding a ODC Data Product" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, INPE.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-178140681-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-178140681-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>